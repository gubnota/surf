function test_form_wrong_input(){returned_value=!1;var e=document.getElementById(app.names.input_prefix+"phone").value;return console.log(e),returned_value=/^[0-9\-\(\)]{8,16}$/.test(e)?(console.log("value complete!"),!0):(console.log("value failed"),!1),returned_value}function clear_form_input(){var n=document;app.fields.forEach(function(t,e){app.forms.forEach(function(e,o){n.getElementById(app.names.input_prefix+t+e).value=""})})}function shake_form_wrong_input(){app.fields.forEach(function(r,e){"phone"===r&&app.forms.forEach(function(e,o){var t=app.names.form_div+e,n=app.names.input_prefix+r+e,a=app.names.title+e,l=document,i="getElementById",c=l[i](n).value;/^[0-9\-\(\)]{8,16}$/.test(c)||(l[i](t).classList.add("shake"),setTimeout(function(){l[i](t).classList.remove("shake")},1e3),l[i](a).getAttribute("title")||l[i](a).setAttribute("title",l[i](a).innerText),l[i](a).innerText="ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑Á†ÅÔºåË∞¢Ë∞¢üôè",setTimeout(function(){l[i](a).innerText=l[i](a).getAttribute("title")},1e3))})})}!function(s){var p=setInterval(function(){var e,o,t,n,a,l,i,c,r,f=s.jQuery;f&&(clearInterval(p),f(document).ready(function(){f(window).scroll(function(){var e,o,t,n,a,l,i,c,r=f(window).scrollTop(),s=f(window).height(),p=f("#block-block-6"),m=f("#block-block-11"),d=f("#block-block-12"),u=f("#block-block-13");p.length&&p.hasClass("block_in_focus")&&(e=p.height(),o=p.offset().top,t=994-e,n=Math.ceil((r+s-o)/(s+e)*100)/100,$chng=-t*n,p.find(".wrap").css({"background-position":"center "+-t*n+"px"})),m.length&&m.hasClass("block_in_focus")&&(a=m.height(),l=m.offset().top,i=975-a,c=Math.ceil((r+s-l)/(s+a)*100)/100,m.find(".wrap").css({"background-position":"center "+-i*c+"px"})),d.length&&d.hasClass("block_in_focus")&&(a=d.height(),l=d.offset().top,i=975-a,c=Math.ceil((r+s-l)/(s+a)*100)/100,d.find(".wrap").css({"background-position":"center "+-i*c+"px"})),u.length&&u.hasClass("block_in_focus")&&(a=u.height(),l=u.offset().top,i=975-a,c=Math.ceil((r+s-l)/(s+a)*100)/100,u.find(".wrap").css({"background-position":"center "+-i*c+"px"}))}),f(window).scroll()}),s.devicePixelRatio,e='<p>Êàë‰ª¨ÂäûÂÖ¨ÂÆ§‰Ωç‰∫éÊ∑±Âú≥Â∏ÇÂçóÂ±±Âå∫Ê¨¢ËøéÊù•Âà∞Ë¥µÂÖ¨Âè∏</b><br><i>ÁîµËØù</i>: <a href="tel:+8615814032465">15814032465</a><br>Âú∞ÂùÄÔºö<strong>‰∏≠ÂõΩÂπø‰∏úÊ∑±Âú≥ÂçóÂ±±Âå∫Â∑•‰∏ö‰∏ÉË∑ØÂâçËøõÂ§ßÂé¶701</strong></p>',o=new L.LayerGroup,t=L.tileLayer("//{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png",{attribution:"Pinterest, Mapbox, OpenStreetMap",id:"pinterest.map-ho21rkos"}),n=L.tileLayer("//{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png ",{attribution:"opencyclemap",detectRetina:!0,id:"World_Topo_Map"}),a=L.tileLayer("//mt"+Math.floor(4*Math.random())+".google.cn/vt/?hl=ru&x={x}&y={y}&z={z}",{attribution:"Google",detectRetina:!0,id:"google"}),l=L.tileLayer("//webrd0"+Math.ceil(4*Math.random())+".is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",{attribution:"Gaode",detectRetina:!0,id:"Gaode"}),i=L.tileLayer("//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"OpenStreetMap",id:"osm"}),L.imageOverlay("img/map.png",[[85.051,180],[-85.051,-180]]),L.marker([22.4942,113.932]).bindPopup(e).addTo(o),window.map=L.map("mesta",{draggable:!1,maxZoom:17,minZoom:8,zoom:15,maxBounds:[[85.051,180],[-85.051,-180]],layers:[l,o],scrollWheelZoom:0,dragging:0,tap:0}).setView([22.4942,113.932]),c={Pinterest:t,Physical:n,Google:a,OpenStreetMap:i,"È´òÂæ∑Âú∞Âõæ":l},r={Places:o},L.control.layers(c,r).addTo(map),L.popup().setLatLng([22.4942,113.932]).setContent(e).openOn(map),map.addControl(new L.Control.Scale))},500)}(window),function(e){var t=setInterval(function(){var o=e.jQuery;o&&(clearInterval(t),o.fn.scrollToTop=function(){o(this).hide().removeAttr("href"),"0"!=o(window).scrollTop()&&o(this).fadeIn("slow");var e=o(this);o(window).scroll(function(){o(window).scrollTop()<400?o(e).fadeOut("slow"):o(e).fadeIn("slow")}),o(this).click(function(){o("html, body").animate({scrollTop:0},"slow")})},o("#scroll-to-top").scrollToTop())},500)}(window),function(e){var o=setInterval(function(){var a=e.jQuery;a&&(clearInterval(o),a.fn.zoomIn=function(e,o){function t(){a(n).offset().top>a(window).scrollTop()+a(window).innerHeight()||a(n).offset().top+a(n).innerHeight()<a(window).scrollTop()?a(n).find(e).removeClass(o):a(window).scrollTop()+a(window).innerHeight()/2>((a(n).offset()||{}).top||0+a(n).innerHeight()/2||0)&&!a(a(n).find(e)).hasClass(o)&&a(n).find(e).addClass(o)}var n=a(this);a(window).scroll(t)},a("#block-block-2").zoomIn(".row","animated zoomIn"),a("#block-block-9").zoomIn(".row","animated zoomIn"),a("#block-about").zoomIn("p,img","animated moveFromLeft"),a("header").zoomIn(".slog","animated zoomIn"),a("#block-block-11").zoomIn(".wrap_l","animated moveFromLeft"),a("#top_part").zoomIn(".wrap_l","animated moveFromLeft"),a("#block-block-2").zoomIn(".row img","animated zoomIn"))},500)}(window),function(o){var t=setInterval(function(){var e=o.jQuery;e&&(clearInterval(t),e(".rows .row").addClass("animated zoomIn"))},500)}(window),function(e){var o=setInterval(function(){var l=e.jQuery;l&&(clearInterval(o),l(".cbh-ph-img-circle,.cbh-callback,.callme_viewform").on("click",function(e){show_cbh_form(e)}),window.show_cbh_form=function(e){l("#clbh_div").addClass("zoomInLeft"),document.getElementById("clbh_div").style.display="block"},window.close_cbh_bg=function(e){l("#clbh_div").addClass("zoomOutLeft"),setTimeout(function(){l("#clbh_div").removeClass("zoomOutLeft").prop("style").display="none",l("#wrapper").removeClass("clbh_blur")},1e3)},l("#clbh_send").on("click touchend touchstart",function(o){var e=new Date,t=l("#clbh_phone").val()||"Êú™Â°´ÂÜôÁîµËØù",n=l("#clbh_name").val()||"Êú™Â°´ÂÜôÂêçÂ≠ó",a=l("#clbh_message").val()||"Êú™Â°´ÂÜô‰ø°ÊÅØ",o=[e.getFullYear(),e.getDate(),e.getMonth()+1].join("-")+" "+[e.getHours(),e.getMinutes()].join(":");test_form_wrong_input()?(window.localStorage.clear(),window.localStorage.setItem("sent",parseInt(Date.now()/1e3)),console.log("form check complete"),Promise.resolve(l.ajax({url:app.url,timeout:app.timeout,data:JSON.stringify({telephone:t,contacts:n,remarks:a}),contentType:"application/json; charset=utf-8",type:"POST"})).then(function(){console.log("answer received"),window.localStorage.clear(),window.localStorage.setItem("sent",parseInt(Date.now()/1e3)),l(".wrap_l").remove();var e=document.getElementById("spinner");e&&e.remove(),close_cbh_bg(o)}).catch(function(e){e.statusText}).finally(function(e){close_cbh_bg(e),clear_form_input()})):(console.log("form check failed"),shake_form_wrong_input())}),l("#clbh_exit").on("click touchstart touchend",function(e){close_cbh_bg(e)}),l("#clbh_send1,#clbh_send2").on("click touchstart touchend",function(e){document.getElementById("clbh_send").dispatchEvent(new Event("click"))}),l(document).on("click",".clbh_blur",function(e){close_cbh_bg(e)}),l(document).on("keyup",function(e){27==(e.keyCode||e.which)&&close_cbh_bg(e)}))},500)}(window),window.onload=function(e){app.fields.forEach(function(n,e){app.forms.forEach(function(e,o){window.localStorage&&(document.getElementById(app.names.input_prefix+n+e).value=window.localStorage.getItem(n)||""),document.getElementById(app.names.input_prefix+n+e).onblur=function(e){test_form_wrong_input()||shake_form_wrong_input()},document.getElementById(app.names.input_prefix+n+e).oninput=function(t){"phone"===n?window.localStorage.setItem(n,t.target.value.replace(/[^0-9\+\s]/g,"").trim()):"name"===n?window.localStorage.setItem(n,t.target.value.replace(/[0-9\+]/g,"").trim()):window.localStorage.setItem(n,t.target.value.trim()),app.forms.forEach(function(e,o){t.target.id!==app.names.input_prefix+n+e&&(document.getElementById(app.names.input_prefix+n+e).value=t.target.value)})}})}),window.FormTimeout=setInterval(function(e){var o,t,n;window.localStorage&&(o=parseInt(window.localStorage.getItem("sent")||"0"),t=Date.now()/1e3,0<o&&o<t&&t-o<120?(n=parseInt((120-t+o)/60)+":"+String(parseInt(120-t+o)%60).padStart(2,"0"),$(".footer_f").css("display","none"),app.forms.forEach(function(t,e){document.getElementById(app.names.sent_form+t).style.display="block",document.getElementById(app.names.button_name_pattern+t).style.display="none",document.getElementById(app.names.time_name_pattern+t).innerText=n,app.fields.forEach(function(e,o){document.getElementById(app.names.input_prefix+e+t).style.display="none"})})):($(".footer_f").css("display","block"),app.forms.forEach(function(t,e){document.getElementById(app.names.sent_form+t).style.display="none",document.getElementById(app.names.button_name_pattern+t).style.display="block",app.fields.forEach(function(e,o){document.getElementById(app.names.input_prefix+e+t).style.display="block"})})))},1e3)};